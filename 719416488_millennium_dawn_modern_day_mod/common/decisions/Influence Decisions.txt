influence_desicions = {
	hidden_ai_influence_decision = {
		icon = generic_independence
		cost = 1
		days_remove = 45
		days_re_enable = 45
		visible = {
			is_ai = yes
		}
		available = {
			check_variable = { influence_array^0 > 0 }
			check_variable = { domestic_influence_amount_calc < 0.60 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision hidden_ai_influence_decision"
			boost_domestic_influence_5_percent = yes
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				check_variable = { domestic_influence_amount_calc < 0.6 }
			}
			modifier = {
				factor = 2
				check_variable = { domestic_influence_amount_calc < 0.4 }
			}
			modifier = {
				factor = 2
				check_variable = { domestic_influence_amount_calc < 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { domestic_influence_amount_calc < 0.1 }
			}
			modifier = {
				factor = 1.2
				has_political_power > 249
				has_political_power < 400
			}
			modifier = {
				factor = 1.5
				has_political_power > 399
				has_political_power < 500
			}
			modifier = {
				factor = 0.50
				has_political_power < 250
			}
		}
	}
	combat_foreign_influence = {
		icon = generic_independence
		cost = 100
		days_remove = 30
		days_re_enable = 0

		available = {
			custom_trigger_tooltip = {
				tooltip = "Foreign influence is present"
				check_variable = { influence_array^0 > 0 }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision combat_foreign_influence"
			boost_domestic_influence_2_percent = yes
		}

		ai_will_do = {
			base = 5
			modifier = {
				factor = 1.5
				OR = {
					has_autocratic_governemnt_or_in_coalition = yes
					has_reactionary_governemnt_or_in_coalition = yes
					has_conservative_governemnt_or_in_coalition = yes
				}
			}
			modifier = {
				factor = 3.0
				has_totalitarian_government_or_in_coalition = yes
			}
			modifier = {
				factor = 10
				check_variable = { domestic_influence_amount_calc < 0.3 }
			}
			modifier = {
				factor = 0
				check_variable = { domestic_influence_amount_calc > 0.80 }
			}
			modifier = {
				factor = 10
				check_variable = { domestic_influence_amount_calc < 1 }
			}
		}
	}

	propaganda_campaign_decision = {
		icon = generic_independence
		cost = 100
		days_remove = 100
		days_re_enable = 30

		available = {
			custom_trigger_tooltip = {
				tooltip = "Foreign influence is present"
				check_variable = { influence_array^0 > 0 }
			}
			NOT = {
				has_decision = combat_biggest_influencer_decision
				has_decision = combat_second_influencer_decision
				has_decision = combat_third_influencer_decision
			}
		}
		modifier = {
			political_power_factor = -0.25
			nationalist_drift = 0.10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision propaganda_campaign_decision"
			custom_effect_tooltip = treasury_loss_2_bil_TT
			propaganda_cost_scripted_effect = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision propaganda_campaign_decision"
			add_stability = -0.05
			boost_domestic_influence_10_percent = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				check_variable = { domestic_influence_amount_calc < 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { domestic_influence_amount_calc < 0.15 }
			}
			modifier = {
				factor = 0
				NOT = {
					has_government = communism
					has_government = nationalist
					has_government = fascism
				}
			}
			modifier = {
				factor = 1.25
				has_government = communism
			}
			modifier = {
				factor = 1.75
				OR = {
					has_government = nationalist
					has_government = fascism
				}
			}
			modifier = {
				factor = 0.5
				is_ai = yes
			}
			modifier = {
				factor = 0
				check_variable = { domestic_influence_amount_calc > 0.6 }
			}
		}
	}

	combat_biggest_influencer_decision = {
		icon = generic_independence
		cost = 200
		days_remove = 60
		days_re_enable = 30

		visible = {
			check_variable = { influence_array^0 > 0 }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = "Foreign influence is present"
				check_variable = { influence_array^0 > 0 }
			}
			NOT = {
				has_decision = propaganda_campaign_decision
				has_decision = combat_second_influencer_decision
				has_decision = combat_third_influencer_decision
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision combat_biggest_influencer_decision"
			reduce_biggest_influencer_by_4_percent = yes
		}

		ai_will_do = {
			factor = 1
			modifier = { #Reduce down to nothing if you have high relations.
				factor = 0.15
				var:FROM.influence_array^0 = {
					ROOT = {
						has_opinion = { target = PREV value > 49 }
					}
				}
			}
			modifier = {
				factor = 1.0
				var:FROM.influence_array^0 = {
					ROOT = {
						has_opinion = { target = PREV value < 50 }
					}
				}
			}
			modifier = {
				factor = 1.25
				var:FROM.influence_array^0 = {
					ROOT = {
						has_opinion = { target = PREV value < 25 }
					}
				}
			}
			modifier = {
				factor = 1.50
				var:FROM.influence_array^0 = {
					ROOT = {
						has_opinion = { target = PREV value < 15 }
					}
				}
			}
			modifier = {
				factor = 1.75
				var:FROM.influence_array^0 = {
					ROOT = {
						has_opinion = { target = PREV value < 0 }
					}
				}
			}
			modifier = {
				factor = 2.0
				var:FROM.influence_array^0 = {
					ROOT = {
						has_opinion = { target = PREV value < -20 }
					}
				}
			}
			modifier = {
				factor = 2.5
				var:FROM.influence_array^0 = {
					ROOT = {
						has_opinion = { target = PREV value < -50 }
					}
				}
			}
			#Domestic Influence Calculation
			modifier = {
				factor = 2.5
				check_variable = { domestic_influence_amount_calc < 0.15 }
			}
			modifier = {
				factor = 2.0
				check_variable = { domestic_influence_amount_calc < 0.25 }
			}
			modifier = {
				factor = 1.5
				check_variable = { domestic_influence_amount_calc < 0.45 }
			}
			modifier = {
				factor = 1.25
				check_variable = { domestic_influence_amount_calc < 0.60 }
			}
			#Should be more worthwhile if they have a high rate
			modifier = {
				factor = 2
				check_variable = { influence_array_val^0 > 0.20 }
			}
			modifier = {
				factor = 4
				check_variable = { influence_array_val^0 > 0.40 }
			}
			modifier = {
				factor = 5
				check_variable = { influence_array_val^0 > 0.60 }
			}
			modifier = { #Should only execute this if you have under 60% domestic influence percent
				factor = 0
				check_variable = { domestic_influence_amount_calc > 0.60 }
			}
		}
	}

	combat_second_influencer_decision = {
		icon = generic_independence
		cost = 150
		days_remove = 60
		days_re_enable = 30

		visible = {
			check_variable = { influence_array^1 > 0 }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = "Foreign influence is present"
				check_variable = { influence_array^0 > 0 }
			}
			NOT = {
				has_decision = combat_biggest_influencer_decision
				has_decision = propaganda_campaign_decision
				has_decision = combat_third_influencer_decision
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision combat_biggest_influencer_decision"
			reduce_second_influencer_by_4_percent = yes
		}

		ai_will_do = {
			factor = 1
			modifier = { #Reduce down to nothing if you have high relations.
				factor = 0.15
				var:FROM.influence_array^1 = {
					ROOT = {
						has_opinion = { target = PREV value > 49 }
					}
				}
			}
			modifier = {
				factor = 1.0
				var:FROM.influence_array^1 = {
					ROOT = {
						has_opinion = { target = PREV value < 50 }
					}
				}
			}
			modifier = {
				factor = 1.25
				var:FROM.influence_array^1 = {
					ROOT = {
						has_opinion = { target = PREV value < 25 }
					}
				}
			}
			modifier = {
				factor = 1.50
				var:FROM.influence_array^1 = {
					ROOT = {
						has_opinion = { target = PREV value < 15 }
					}
				}
			}
			modifier = {
				factor = 1.75
				var:FROM.influence_array^1 = {
					ROOT = {
						has_opinion = { target = PREV value < 0 }
					}
				}
			}
			modifier = {
				factor = 2.0
				var:FROM.influence_array^1 = {
					ROOT = {
						has_opinion = { target = PREV value < -20 }
					}
				}
			}
			modifier = {
				factor = 2.5
				var:FROM.influence_array^1 = {
					ROOT = {
						has_opinion = { target = PREV value < -50 }
					}
				}
			}
			#Domestic Influence Calculation
			modifier = {
				factor = 2.5
				check_variable = { domestic_influence_amount_calc < 0.15 }
			}
			modifier = {
				factor = 2.0
				check_variable = { domestic_influence_amount_calc < 0.25 }
			}
			modifier = {
				factor = 1.5
				check_variable = { domestic_influence_amount_calc < 0.45 }
			}
			modifier = {
				factor = 1.25
				check_variable = { domestic_influence_amount_calc < 0.60 }
			}
			#Should be more worthwhile if they have a high rate
			modifier = {
				factor = 2
				check_variable = { influence_array_val^1 > 0.20 }
			}
			modifier = {
				factor = 4
				check_variable = { influence_array_val^1 > 0.40 }
			}
			modifier = {
				factor = 5
				check_variable = { influence_array_val^1 > 0.60 }
			}
			modifier = { #Should only execute this if you have under 60% domestic influence percent
				factor = 0
				check_variable = { domestic_influence_amount_calc > 0.60 }
			}
		}
	}

	combat_third_influencer_decision = {
		icon = generic_independence
		cost = 150
		days_remove = 60
		days_re_enable = 30

		visible = {
			check_variable = { influence_array^2 > 0 }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = "Foreign influence is present"
				check_variable = { influence_array^0 > 0 }
			}
			NOT = {
				has_decision = combat_biggest_influencer_decision
				has_decision = propaganda_campaign_decision
				has_decision = combat_second_influencer_decision
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision combat_biggest_influencer_decision"
			reduce_third_influencer_by_4_percent = yes
		}

		ai_will_do = {
			factor = 1
			modifier = { #Reduce down to nothing if you have high relations.
				factor = 0.15
				var:FROM.influence_array^2 = {
					ROOT = {
						has_opinion = { target = PREV value > 49 }
					}
				}
			}
			modifier = {
				factor = 1.0
				var:FROM.influence_array^2 = {
					ROOT = {
						has_opinion = { target = PREV value < 50 }
					}
				}
			}
			modifier = {
				factor = 1.25
				var:FROM.influence_array^2 = {
					ROOT = {
						has_opinion = { target = PREV value < 25 }
					}
				}
			}
			modifier = {
				factor = 1.50
				var:FROM.influence_array^2 = {
					ROOT = {
						has_opinion = { target = PREV value < 15 }
					}
				}
			}
			modifier = {
				factor = 1.75
				var:FROM.influence_array^2 = {
					ROOT = {
						has_opinion = { target = PREV value < 0 }
					}
				}
			}
			modifier = {
				factor = 2.0
				var:FROM.influence_array^2 = {
					ROOT = {
						has_opinion = { target = PREV value < -20 }
					}
				}
			}
			modifier = {
				factor = 2.5
				var:FROM.influence_array^2 = {
					ROOT = {
						has_opinion = { target = PREV value < -50 }
					}
				}
			}
			#Domestic Influence Calculation
			modifier = {
				factor = 2.5
				check_variable = { domestic_influence_amount_calc < 0.15 }
			}
			modifier = {
				factor = 2.0
				check_variable = { domestic_influence_amount_calc < 0.25 }
			}
			modifier = {
				factor = 1.5
				check_variable = { domestic_influence_amount_calc < 0.45 }
			}
			modifier = {
				factor = 1.25
				check_variable = { domestic_influence_amount_calc < 0.60 }
			}
			#Should be more worthwhile if they have a high rate
			modifier = {
				factor = 2
				check_variable = { influence_array_val^2 > 0.20 }
			}
			modifier = {
				factor = 4
				check_variable = { influence_array_val^2 > 0.40 }
			}
			modifier = {
				factor = 5
				check_variable = { influence_array_val^2 > 0.60 }
			}
			modifier = { #Should only execute this if you have under 60% domestic influence percent
				factor = 0
				check_variable = { domestic_influence_amount_calc > 0.60 }
			}
		}
	}

}
