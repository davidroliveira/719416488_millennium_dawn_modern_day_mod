seek_american_alliance = {
	enable = {
		NOT = { tag = USA }
		has_country_flag = seeks_american_alliance
	}

	abort = {
		OR = {
			NOT = { has_country_flag = seeks_american_alliance }
			has_idea = NATO_member
			is_in_faction_with = USA
		}
	}

	ai_strategy = {
		type = befriend
		id = "USA"
		value = 150
	}
	ai_strategy = {
		type = alliance
		id = "USA"
		value = 150
	}
}

USA_the_dragon =  {
	allowed = { tag = USA }
	enable = { NOT = { is_in_faction_with = CHI has_completed_focus = USA_seek_proximity_to_china } }
	abort_when_not_enabled = yes

	ai_strategy = { type = antagonize id = "CHI" value = 50 }
	ai_strategy = { type = alliance id = "CHI" value = -200 }
	ai_strategy = { type = support id = "CHI" value = -200 }
}

USA_the_bear =  {
	allowed = { tag = USA }
	enable = { NOT = { is_in_faction_with = SOV has_completed_focus = USA_strengthen_ties_to_russia } }
	abort_when_not_enabled = yes

	ai_strategy = { type = antagonize id = "SOV" value = 50 }
	ai_strategy = { type = alliance id = "SOV" value = -200 }
	ai_strategy = { type = support id = "SOV" value = -200 }
}

USA_generic_support_israel = {
	allowed = { tag = USA }
	enable = { NOT = { has_completed_focus = USA_recognize_palestine } }
	abort_when_not_enabled = yes

	ai_strategy = { type = protect id = "ISR" value = 200 }
	ai_strategy = { type = befriend id = "ISR" value = 50 }
}

USA_generic_iranian_relations = {
	allowed = { tag = USA }
	enable = { NOT = { has_completed_focus = USA_demand_reparations_for_the_uss_liberty } }
	abort_when_not_enabled = yes

	ai_strategy = { type = contain id = "PER" value = 100 }
	ai_strategy = { type = antagonize id = "PER" value = 50 }
}
USA_default_american_priority = {
	allowed = { tag = USA }
	enable = { always = yes }
	ai_strategy = { type = area_priority id = europe value = 150 }
	ai_strategy = { type = area_priority id = north_america value = 50 }
	ai_strategy = { type = area_priority id = caribbean value = 200 }
	ai_strategy = { type = area_priority id = south_america value = 100 }
	ai_strategy = { type = area_priority id = asia value = 200 }
	ai_strategy = { type = area_priority id = pacific value = 150 }
	ai_strategy = { type = area_priority id = oceania value = 150 }
	ai_strategy = { type = area_priority id = middle_east value = 150 }
	ai_strategy = { type = area_priority id = africa value = 100 }
}

USA_strike_force_pacific = { #Essentially used to push out in the pacific
	allowed = { tag = USA }
	enable = {
		NOT = { any_home_area_neighbor_country = { has_war_with = ROOT } }
		any_enemy_country = {
			capital_scope = {
				OR = {
					is_on_continent = asia
					is_on_continent = australia
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy=  { type = strike_force_home_base id = 105 } #Pearl Harbor - Should keep na
	ai_strategy = { type = area_priority id = pacific value = 50 }
	ai_strategy = { type = area_priority id = asia value = 50 }
	ai_strategy = { type = naval_avoid_region id = 88 value = 1000 } #Bering Straits -This is here to keep the AI protecting the cores regions
	ai_strategy = { type = naval_avoid_region id = 171 value = 1000 } #Alaskan Coast
	ai_strategy = { type = naval_avoid_region id = 32 value = 1000 }
	ai_strategy = { type = naval_avoid_region id = 112 value = 1000 }
	ai_strategy = { type = naval_avoid_region id = 179 value = 1000 }
	ai_strategy = { type = naval_avoid_region id = 113 value = 1000 }

}

USA_strike_force_europe = {
	allowed = { tag = USA }
	enable = {
		NOT = { any_home_area_neighbor_country = { has_war_with = ROOT } }
		any_enemy_country = {
			OR = {
				capital_scope = {
					is_on_continent = europe
				}
				tag = SOV
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = strike_force_home_base id = 54 }
	ai_strategy = { type = area_priority id = europe value = 250 }
}

USA_defend_home = {
	allowed = { tag = USA }
	enable = {
		tag = USA
		has_war = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = garrison value = 15 }
}

USA_defend_the_coasts = { #This AI Strategy should keep the USA at bay in case of severe loss. All production goes to homeland defense
	allowed = { tag = USA }
	enable = {
		original_tag = USA
		has_war = yes
		any_neighbor_country = {
			has_war_with = USA
		}
		alliance_naval_strength_ratio < 1.0
		any_enemy_country = {
			strength_ratio = { tag = USA ratio = 0.5 }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = garrison value = 1 } #Additive to the Garrison default. Should be around 80% of available troops for garrison
	ai_strategy = { type = area_priority id = pacific value = -1000 }
	ai_strategy = { type = area_priority id = europe value = -1000 }
	ai_strategy = { type = area_priority id = south_america value = -1000 }
	ai_strategy = { type = area_priority id = asia value = -1000 }
	ai_strategy = { type = area_priority id = middle_east value = -1000 }
	ai_strategy = { type = area_priority id = africa value = -1000 }
	ai_strategy = { type = area_priority id = oceania value = -1000 }
	ai_strategy = { type = area_priority id = north_america value = 100000 }
	ai_strategy = { type = area_priority id = united_states_coasts value = 100000 } #America Must Stand Strong
	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.40
		states = {
			809 808 799 792 768
			810 805 798 795 767
			811 788 797 791 765
			806 789 798 790 764
			803 804 796 770 772
			808 800 794 769 771
		}
		subtract_fronts_from_need = no
		subtract_invasions_from_need = no
	}
}

USA_attack_china = {
	allowed = { tag = USA }
	enable = {
		has_war_with = CHI
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = invade id = "CHI" value = 4000 }
	ai_strategy = { type = area_priority id = chinese_coast value = 100000 } #This should mega focus here
	ai_strategy = { type = strike_force_home_base id = 76 } #Okinawa Base - Should be useful in keeping control

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.01
		states = {
			827 819 818 817
		}
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
	}
}

USA_attack_russia = {
	allowed = { tag = USA }
	enable = {
		has_war_with = SOV
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = invade id = "SOV" value = 4000 }
	ai_strategy = { type = area_priority id = europe value = 10000 }
}

USA_defend_nato_historical = {
	allowed = {
		tag = USA
		is_historical_focus_on = yes
	}
	enable = {
		has_idea = NATO_member
		is_faction_leader = yes
		NOT = {
			has_war_with = CHI
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = force_defend_ally_borders id = "FRA" value = 25 }
	ai_strategy = { type = force_defend_ally_borders id = "GER" value = 25 }
	ai_strategy = { type = force_defend_ally_borders id = "ITA" value = 25 }
	ai_strategy = { type = force_defend_ally_borders id = "ENG" value = 25 }
	ai_strategy = { type = force_defend_ally_borders id = "SPR" value = 25 }
}

USA_garrison_oversea_bases = {
	allowed = { tag = USA } #These are needed to actually defend American interest
	enable = { #Should trigger if you own at least 1 of these
		count_triggers = {
			amount = 1
			controls_state = 824
			controls_state = 624
			controls_state = 488
			controls_state = 827
			controls_state = 817
			controls_state = 825
			controls_state = 818
		}
	}
	abort = {
		has_war = yes
	}

	ai_strategy = {
		type = put_unit_buffers
		ratio = 0.05
		order_id = 999
		states = { 824 624 488 827 817 825 818 }
		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
	}
}

##American unique AI for combat units
USA_default_naval_breakdown = { #Fleet in Being - Naval Strength on the High Seas - USA Should focus a plethora of ships with a larger focus on carrier
	allowed = { original_tag = USA }
	enable = { original_tag = USA }
	abort_when_not_enabled = yes

	# American fleet doctrine is mainly centered around heavy ships and carriers.
	# Fleet should avoid light ships like Frigates and Corvettes where possible
	#
	ai_strategy = { type = role_ratio id = naval_corvettes value = 1 } #Corvettes
	ai_strategy = { type = role_ratio id = naval_frigate value = 40 } #Frigates
	ai_strategy = { type = role_ratio id = naval_destroyer value = 250 } #Destroyers
	ai_strategy = { type = role_ratio id = naval_stealth_destroyer value = 100 } #Stealth Destroyer
	ai_strategy = { type = role_ratio id = naval_submarine value = 50 } #Standard Submarines
	ai_strategy = { type = role_ratio id = naval_heavy_submarine value = 100 } #Nuclear Submarines
	ai_strategy = { type = role_ratio id = naval_capital_bb value = 15 } ##Avoid Heavy vessels where you can
	ai_strategy = { type = role_ratio id = naval_capital_bc value = 15 }
	ai_strategy = { type = role_ratio id = naval_carrier value = 35 }
	ai_strategy = { type = role_ratio id = naval_cruiser_light value = 5 } #Gun Based - Cruisers
	ai_strategy = { type = role_ratio id = naval_cruiser_heavy value = 35 } #Heavy Missile Based - Cruisers
	ai_strategy = { type = role_ratio id = naval_mine_sweeper value = 15 } #Mine sweeping Frigates
	ai_strategy = { type = role_ratio id = naval_mine_layer value = 15 } #Mine laying frigates
}

USA_army_breakdown = {
	allowed = { original_tag = USA }
	enable = { original_tag = USA }
	abort_when_not_enabled = yes

	ai_strategy = { type = role_ratio id = L_Inf value = 0 }
	ai_strategy = { type = role_ratio id = Militia value = 0 } #No militas for American AI
	ai_strategy = { type = role_ratio id = infantry value = 20 } #30
	ai_strategy = { type = role_ratio id = garrison value = 0 }
	ai_strategy = { type = role_ratio id = mechanized value = 50 } #60
	ai_strategy = { type = role_ratio id = armor value = 20 } #80
	ai_strategy = { type = role_ratio id = marines value = 5 }
	ai_strategy = { type = role_ratio id = Air_assault value = 5 }
	ai_strategy = { type = role_ratio id = Air_Inf value = 5 }
	ai_strategy = { type = role_ratio id = Special_Forces value = 5 } #
	ai_strategy = { type = force_build_armies value = 50 } #Keep American AI building Units
}
USA_air_force_breakdown = {
	allowed = { original_tag = USA }
	enable = { original_tag = USA }
	abort_when_not_enabled = yes
	##Air Unit Factors
	#Fighters
	ai_strategy = { type = unit_ratio id = fighter value = 50 }
	ai_strategy = { type = equipment_production_factor id = fighter value = 50 }
	#CAS
	ai_strategy = { type = unit_ratio id = cas value = 40 }
	ai_strategy = { type = equipment_production_factor id = cas value = 40 }
	#Tac Bomber
	ai_strategy = { type = unit_ratio id = tactical_bomber value = 20 }
	ai_strategy = { type = equipment_production_factor id = tactical_bomber value = 20 }
	#strategic_bomber
	ai_strategy = { type = unit_ratio id = strategic_bomber value = 15 }
	ai_strategy = { type = equipment_production_factor id = strategic_bomber value = 15 }
	#naval_bomber
	ai_strategy = { type = unit_ratio id = naval_bomber value = 30 }
	ai_strategy = { type = equipment_production_factor id = naval_bomber value = 30 }
}

USA_reduce_canada_border_garrison = {
	allowed = { original_tag = USA }
	enable = {
		original_tag = USA
		OR = {
			CAN = { has_government = democratic }
			CAN = { has_idea = NATO_member }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = CAN
		value = -200
	}
}

USA_canadians_scary = {
	allowed = { original_tag = USA }
	enable = {
		original_tag = USA
		CAN = {
			NOT = {
				has_government = democratic
				has_idea = NATO_member
			}
		}
	}
	abort_when_not_enabled = yes


	ai_strategy = {
		type = front_unit_request
		tag = CAN
		value = 150
	}
}

USA_reduce_mexico_garrison_when_cartels_are_in_mexico = {
	allowed = { original_tag = USA }
	enable = {
		original_tag = USA
		MEX = {
			NOT = {
				has_war_with = SLA
				has_war_with = TAM
				has_war_with = TRC
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = MEX
		value = -200
	}
}

USA_war_with_mexico_or_canada = {
	allowed = { original_tag = USA }
	enable = {
		original_tag = USA
		OR = {
			has_war_with = MEX
			has_war_with = CAN
		}
	}
	ai_strategy = {
		type = front_unit_request
		tag = CAN
		value = 150
	}
	ai_strategy = {
		type = front_unit_request
		tag = MEX
		value = 150
	}
}
USA_degarrison_guantanamo = {
	allowed = { original_tag = USA }
	enable = {
		original_tag = USA
		owns_state = 424
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = front_unit_request
		tag = CUB
		value = -200
	}
}

USA_support_afghanistan = {
	allowed = { tag = USA has_start_date > 2016.1.1 }
	enable = {
		NOT = { has_war_with = AFG }
		AFG = { NOT = { has_government = fascism } }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "AFG" value = 50 }
	ai_strategy = { type = support id = "AFG" value = 150 }
	ai_strategy = { type = send_volunteers_desire id = "AFG" value = 100 }
}

USA_hor_support = {
	allowed = { tag = USA }
	enable = {
		NOT = { has_war_with = HOR }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "HOR" value = 25 }
	ai_strategy = { type = protect id = "HOR" value = 25 }
	ai_strategy = { type = influence id = "HOR" value = 25 }
}

USA_eu_relations = {
	allowed = { tag = USA }
	enable = {
		has_government = democratic
	}
	abort_when_not_enabled = yes
	ai_strategy = { type = befriend id = "ENG" value = 30 }
	ai_strategy = { type = befriend id = "IRE" value = 30 }
	ai_strategy = { type = befriend id = "FRA" value = 30 }
	ai_strategy = { type = befriend id = "SPR" value = 30 }
	ai_strategy = { type = befriend id = "POR" value = 30 }
	ai_strategy = { type = befriend id = "AUS" value = 30 }
	ai_strategy = { type = befriend id = "ITA" value = 30 }
	ai_strategy = { type = befriend id = "BEL" value = 30 }
	ai_strategy = { type = befriend id = "HOL" value = 30 }
	ai_strategy = { type = befriend id = "LUX" value = 30 }
	ai_strategy = { type = befriend id = "GER" value = 30 }
	ai_strategy = { type = befriend id = "DEN" value = 30 }
	ai_strategy = { type = befriend id = "NOR" value = 30 }
	ai_strategy = { type = befriend id = "SWE" value = 30 }
	ai_strategy = { type = befriend id = "FIN" value = 30 }
	ai_strategy = { type = befriend id = "POL" value = 30 }
	ai_strategy = { type = befriend id = "EST" value = 30 }
	ai_strategy = { type = befriend id = "LAT" value = 30 }
	ai_strategy = { type = befriend id = "LIT" value = 30 }
	ai_strategy = { type = befriend id = "CZE" value = 30 }
	ai_strategy = { type = befriend id = "SLO" value = 30 }
	ai_strategy = { type = befriend id = "HUN" value = 30 }
	ai_strategy = { type = befriend id = "ROM" value = 30 }
	ai_strategy = { type = befriend id = "BUL" value = 30 }
	ai_strategy = { type = befriend id = "CRO" value = 30 }
	ai_strategy = { type = befriend id = "GRE" value = 30 }
	ai_strategy = { type = befriend id = "TUR" value = 30 }
	ai_strategy = { type = befriend id = "FIN" value = 30 }
	ai_strategy = { type = befriend id = "SWI" value = 30 }
	ai_strategy = { type = befriend id = "ICE" value = 30 }
}

USA_support_somalia = {
	allowed = { tag = USA }
	enable = {
		NOT = { has_war_with = SOM }
		SOM = { NOT = { has_government = fascism } }
	}
	abort = {
		OR = {
			has_war_with = SOM
			SOM = { has_government = fascism }
		}
	}

	ai_strategy = { type = befriend id = "SOM" value = 100 }
	ai_strategy = { type = protect id = "SOM" value = 50 }
	ai_strategy = { type = support id = "SOM" value = 100 }
}

USA_cuba_relations = {
	allowed = { tag = USA }
	enable = {
		CUB = { NOT = { has_government = democratic } }
	}
	abort = {
		CUB = { has_government = democratic }
	}

	ai_strategy = { type = contain id = "CUB" value = 100 }
	ai_strategy = { type = antagonize id = "CUB" value = 50 }
}


USA_korea_relations = {
	allowed = { tag = USA }
	enable = {
		KOR = { has_government = democratic }
		country_exists = NKO
	}
	abort = {
		OR = {
			NOT = { KOR = { has_government = democratic } }
			NOT = { country_exists = NKO }
		}
	}

	ai_strategy = { type = befriend id = "KOR" value = 50 }
	ai_strategy = { type = protect id = "KOR" value = 100 }
	ai_strategy = { type = contain id = "NKO" value = 100 }
	ai_strategy = { type = antagonize id = "NKO" value = 50 }
}

USA_saudi_relations = {
	allowed = { tag = USA }
	enable = {
		SAU = { gives_military_access_to = USA }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "SAU" value = 50 }
	ai_strategy = { type = protect id = "SAU" value = 20 }
}

USA_qatari_relations = {
	allowed = { tag = USA }
	enable = {
		QAT = { gives_military_access_to = USA }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = befriend id = "QAT" value = 50 }
	ai_strategy = { type = protect id = "QAT" value = 100 }
}

##Syrian Civil War Shit
USA_fsa = {
	allowed = { tag = USA }
	enable = {
		country_exists = FSA
		NOT = { has_war_with = FSA }
		FSA = { NOT = { has_government = fascism } }
	}
	abort = {
		OR = {
			has_war_with = FSA
			FSA = { has_government = fascism }
		}
	}

	ai_strategy = { type = befriend id = "FSA" value = 200 }
	ai_strategy = { type = protect id = "FSA" value = 200 }
	ai_strategy = { type = support id = "FSA" value = 200 }
}

USA_rojava = {
	allowed = { tag = USA }
	enable = {
		ROJ = { has_war_with = ISI }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = support id = "ROJ" value = 100 }
	ai_strategy = { type = protect id = "ROJ" value = 100 }
}

USA_krg = {
	allowed = { tag = USA }
	enable = {
		KUR = { has_war_with = ISI }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = support id = "KUR" value = 100 }
	ai_strategy = { type = protect id = "KUR" value = 100 }
}

USA_support_irq = {
	allowed = { tag = USA }
	enable = {
		IRQ = { has_war_with = ISI }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = support id = "IRQ" value = 200 }
	ai_strategy = { type = protect id = "IRQ" value = 1000 }
}